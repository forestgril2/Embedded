# ESP32 OTA with I2C Display

> ⚠️ **AI-Generated Content Disclaimer**
> 
> This README has been generated by an AI assistant. While efforts have been made to ensure accuracy, please verify all information, especially:
> - Hardware connections and pin configurations
> - Software requirements and versions
> - Build and upload commands
> - Endpoint URLs and functionality
> 
> If you find any discrepancies or have suggestions for improvement, please contribute to the documentation.

This project implements an ESP32-based device with an I2C OLED display that supports Over-The-Air (OTA) updates and remote text display control through a web interface.

## Features

- I2C OLED display (128x64 pixels)
- WiFi connectivity with automatic configuration
- Web server for remote control with endpoints:
  - `/` - Root page with text input form
  - `/text` - POST endpoint to display text on OLED
  - `/version` - GET endpoint to display firmware version
  - `/memory` - GET endpoint to show memory status
  - `/debug` - GET endpoint for debug information
- OTA (Over-The-Air) firmware updates
- Memory status monitoring
- Debug information display

## Hardware Requirements

- ESP32 development board
- I2C OLED display (SSD1306, 128x64)
- USB cable for programming
- WiFi network access

## Software Requirements

1. [Visual Studio Code](https://code.visualstudio.com/)
2. [PlatformIO IDE](https://platformio.org/) extension for VS Code
3. Required PlatformIO libraries (automatically installed):
   - WiFiManager
   - ESPAsyncWebServer
   - AsyncTCP
   - Adafruit SSD1306
   - Adafruit GFX Library

## Installation Instructions

### 1. Install Visual Studio Code and PlatformIO

1. Download and install [Visual Studio Code](https://code.visualstudio.com/)
2. Open VS Code
3. Go to Extensions (Ctrl+Shift+X)
4. Search for "PlatformIO IDE"
5. Install the PlatformIO IDE extension
6. Restart VS Code

### 2. Open the Project

1. In VS Code, click "Open Folder"
2. Navigate to and select the project directory
3. PlatformIO will automatically detect the project and set up the environment

### 3. Hardware Setup

1. Connect the OLED display to ESP32:
   - VCC to 3.3V
   - GND to GND
   - SCL to GPIO 22 (default I2C clock)
   - SDA to GPIO 21 (default I2C data)

2. Connect ESP32 to your computer via USB cable

### 4. Build and Upload

#### Using PlatformIO CLI (Terminal)

1. Open terminal in the project directory
2. Build the project:
   ```bash
   pio run
   ```
3. Upload to ESP32:
   ```bash
   pio run -t upload
   ```
4. Monitor serial output:
   ```bash
   pio device monitor
   ```

#### Using PlatformIO GUI

1. In VS Code, click the PlatformIO icon in the left sidebar
2. Select your ESP32 board from the "BOARDS" list
3. Click "Build" (checkmark icon) to compile the project
4. Click "Upload" (right arrow icon) to upload the firmware to your ESP32

## First Time Setup

1. After uploading, the device will create a WiFi access point named "ESP32-Setup"
2. Connect to this access point using your phone or computer
3. A configuration page should automatically open
4. If it doesn't, open a web browser and go to http://192.168.4.1
5. Select your WiFi network and enter the password
6. The device will connect to your network and display its IP address

## Using the Device

### Web Interface

Once connected to your network:
1. Open a web browser
2. Enter the IP address shown on the display
3. Available endpoints:
   - `http://<IP>/` - Root page with text input form
   - `http://<IP>/text` - POST endpoint to display text on OLED
   - `http://<IP>/version` - GET endpoint to display firmware version
   - `http://<IP>/memory` - GET endpoint to show memory status
   - `http://<IP>/debug` - GET endpoint for debug information

### OTA Updates

To update the firmware over WiFi:
1. Build the firmware:
   ```bash
   pio run
   ```
2. The binary will be located in `.pio/build/esp32dev/firmware.bin`
3. Open the web interface
4. Go to the OTA update page
5. Upload the firmware.bin file
6. The device will automatically update and restart

## Troubleshooting

- If the display doesn't work:
  - Check I2C connections
  - Verify the display is powered (3.3V)
  - Check if the correct I2C pins are used

- If WiFi connection fails:
  - Make sure you're within range of the WiFi network
  - Verify the password is correct
  - Check if the network supports 2.4GHz (ESP32 doesn't support 5GHz)

- If OTA update fails:
  - Ensure stable WiFi connection
  - Check if the binary file is correct
  - Verify enough free space in flash memory

## Project Structure

- `src/main.cpp` - Main program logic
- `src/display_manager.h/cpp` - OLED display control
- `src/server_manager.h/cpp` - Web server functionality
- `src/ota_manager.h/cpp` - OTA update handling
- `platformio.ini` - PlatformIO project configuration

## License

This project is open source and available under the MIT License. 